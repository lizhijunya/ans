# 课堂抢答系统

一个基于 Vue.js 和 Node.js 的实时课堂抢答系统，支持教师创建房间、学生加入抢答、实时排名等功能。

## 功能特性

### 教师端功能
- 🔐 安全登录系统（默认密码：123456，首次登录强制修改）
- 📝 Excel 题库上传和管理
- 🏠 创建抢答房间
- 📱 生成二维码供学生扫码加入
- ⏰ 实时控制题目开始/结束
- 📊 查看学生答题情况和排名
- 👥 监控在线学生数量

### 学生端功能
- 🚪 快速加入房间
- ⚡ 实时抢答
- 📈 查看个人积分和排名
- 🔄 断线重连功能
- 📱 移动端适配

### 技术特性
- 🌐 基于 Socket.IO 的实时通信
- 📱 响应式设计，支持移动端
- 🔄 自动重连机制
- 💾 内存数据存储
- 🎨 现代化 UI 设计

## 技术栈

### 前端
- Vue 3
- Vue Router
- Ant Design Vue
- Socket.IO Client
- Axios
- Vite

### 后端
- Node.js
- Express
- Socket.IO
- Multer (文件上传)
- XLSX (Excel 处理)

## 项目结构

```
ans_kKTxs/
├── src/                    # 前端源码
│   ├── views/             # 页面组件
│   │   ├── Home.vue       # 首页
│   │   ├── TeacherLogin.vue # 教师登录
│   │   ├── Teacher.vue    # 教师控制台
│   │   └── Student.vue    # 学生抢答页面
│   ├── router/            # 路由配置
│   ├── App.vue           # 根组件
│   └── main.js           # 入口文件
├── server/                # 后端源码
│   └── app.js            # 服务器主文件
├── package.json          # 项目依赖
├── vite.config.js        # Vite 配置
└── index.html           # HTML 模板
```

## 安装部署

### 环境要求
- Node.js >= 14.0.0
- npm >= 6.0.0

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd ans_kKTxs
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **构建前端**
   ```bash
   npm run build
   ```

4. **启动服务器**
   ```bash
   cd server
   node app.js
   ```

5. **访问应用**
   - 打开浏览器访问：`http://localhost:3001`
   - 教师登录默认密码：`123456`

### 开发模式

如果需要进行开发，可以同时启动前端开发服务器和后端服务器：

1. **启动后端服务器**
   ```bash
   cd server
   node app.js
   ```

2. **启动前端开发服务器**（新终端）
   ```bash
   npm run dev
   ```

## 使用说明

### 教师使用流程

1. **登录系统**
   - 访问首页，点击"教师登录"
   - 使用默认密码 `123456` 登录
   - 首次登录需要修改密码

2. **上传题库**
   - 准备 Excel 文件，格式要求：
     - A列：题目内容
     - B列：选项A
     - C列：选项B
     - D列：选项C
     - E列：选项D
     - F列：正确答案（A/B/C/D）
   - 上传并预览题目

3. **创建房间**
   - 设置房间名称
   - 生成房间链接和二维码

4. **开始抢答**
   - 等待学生加入
   - 开始题目，学生进行抢答
   - 查看实时排名和答题情况

### 学生使用流程

1. **加入房间**
   - 扫描二维码或访问房间链接
   - 输入姓名加入房间

2. **参与抢答**
   - 等待教师开始题目
   - 快速选择答案进行抢答
   - 查看个人积分和排名

## 配置说明

### 服务器配置

在 `server/app.js` 中可以修改以下配置：

- **端口号**：默认 3001
- **教师密码**：默认 "123456"
- **文件上传路径**：默认 "uploads/"

### 前端配置

在 `vite.config.js` 中可以修改构建配置。

## 常见问题

### Q: 学生无法连接到服务器？
A: 请检查防火墙设置，确保 3001 端口可以访问。

### Q: 上传的 Excel 文件无法解析？
A: 请确保 Excel 文件格式正确，按照说明中的列格式准备数据。

### Q: 学生断线后无法重新连接？
A: 系统具有自动重连功能，学生刷新页面即可重新加入。

### Q: 忘记教师密码怎么办？
A: 可以在 `server/app.js` 中重置 `teacherPassword` 变量。

## 开发说明

### 添加新功能

1. **前端页面**：在 `src/views/` 中添加新的 Vue 组件
2. **路由配置**：在 `src/router/index.js` 中添加路由
3. **后端接口**：在 `server/app.js` 中添加新的 API 端点
4. **Socket 事件**：根据需要添加新的 Socket.IO 事件

### 代码规范

- 使用 ES6+ 语法
- 组件命名使用 PascalCase
- 变量命名使用 camelCase
- 添加适当的注释

## 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目。

## 更新日志

### v1.0.0
- 基础抢答功能
- 教师控制台
- 学生端界面
- 实时通信
- Excel 题库上传
- 安全登录系统
- 强制密码修改功能
